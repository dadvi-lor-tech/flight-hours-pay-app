<?xml version="1.0" encoding="UTF-8"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axelor.com/xml/ns/object-views/object-views_5.2.xsd">

  <grid name="duty-grid" title="Duties" model="com.axelor.apps.flight.db.Duty">
    <field name="name" />
    <field name="departureAirport" />
    <field name="arrivalAirport" />
    <field name="currentInboundDuration" widget="duration" />
    <field name="currentOutboundDuration" widget="duration" />
  </grid>

  <form name="duty-form" title="Duty" model="com.axelor.apps.flight.db.Duty">
    <panel>
      <field name="name" />
      <field name="isLeave" onChange="action-duty-record-reset-fields" />
    </panel>
    <panel-related field="leaveRateList" grid-view="leave-rate-grid" form-view="leave-rate-form" showIf="isLeave" />
    <panel hideIf="isLeave">
      <field name="departureAirport" />
      <field name="arrivalAirport" />
      <field name="currentInboundDuration" widget="duration" />
      <field name="currentOutboundDuration" widget="duration" />
      <field name="scheduledTime" colSpan="12" grid-view="scheduled-time-grid" form-view="scheduled-time-form" />
    </panel>
  </form>

  <action-record name="action-duty-record-reset-fields" model="com.axelor.apps.flight.db.Duty">
    <field name="startDate" expr="eval: null" if="!isLeave" />
    <field name="endDate" expr="eval: null" if="!isLeave" />
    <field name="dailyRate" expr="eval: null" if="!isLeave" />
    <field name="departureAirport" expr="eval: null" if="isLeave" />
    <field name="arrivalAirport" expr="eval: null" if="isLeave" />
    <field name="currentInboundDuration" expr="eval: null" if="isLeave" />
    <field name="currentOutboundDuration" expr="eval: null" if="isLeave" />
    <field name="scheduledTime" expr="eval: null" if="isLeave" />
  </action-record>

</object-views>